## Defining the Request Body

Specify the structure and type of the request body.

- Only one request body can be defined per route.

```kotlin
requestBody<MyRequestBodyType> {
    description = "The data required to create a new item."
}
```

- **Properties:**
    - `description`: A description of the request body's content and what it represents.
  - `required`: Indicates whether the request body is mandatory for the API call. (Default: `true`)
  - `composition`: The composition strategy when multiple types are registered. (Default: `Composition.ANY_OF`

---

### Additional Types and Content-Types

Besides the primary request body type, you can also register additional types, including multiple `ContentTypes`.

```kotlin
requestBody<MyRequestBodyType>(
  contentType = setOf(
    ContentType.Application.Json,
    ContentType.Application.Xml
  )
) {
    // Register an additional type.
  addType<AdditionalType>()

    // Register another type to the PDF ContentType
    // instead of the default.
  addType<YetAnotherTpe>(contentType = ContentType.Application.Pdf)
}
```

This will result in the following OpenAPI definition:

```yaml
requestBody:
  required: true
  content:
    application/json:
      schema:
        anyOf:
          - $ref: "#/components/schemas/MyRequestBodyType"
          - $ref: "#/components/schemas/AdditionalType"
    application/xml:
      schema:
        anyOf:
          - $ref: "#/components/schemas/MyRequestBodyType"
          - $ref: "#/components/schemas/AdditionalType"
    application/pdf:
      schema:
        $ref: "#/components/schemas/YetAnotherTpe"
```

---

### Multipart Form Data

To define a request body as `multipart` use the `multipart` function.

- **`contentType`**: Specify the `ContentType.MultiPart` by passing it as a parameter. Default: `ContentType.MultiPart.FormData`.
- Use Ktor's `PartData` subclasses to specify the part type.

```kotlin
multipart {
  part<PartData.FileItem>("myFilePart") {
    description = "The file to upload."
  }
}
```

Or specify the content type explicitly:

```kotlin
multipart(contentType = ContentType.MultiPart.Signed) {
  part<PartData.FormItem>("myFormPart") {
    description = "The form data."
  }
}
```

- **Properties of Part:**
  - `description`: A description of the part's content and what it represents.
  - `required`: Indicates whether the part is mandatory for the API call. (Default: `true`)

Example output:

```yaml
requestBody:
  required: true
  content:
    multipart/form-data:
      schema:
        type: object
        properties:
          myFilePart:
            description: The file to upload.
            type: string
            format: binary
        required:
          - myFilePart
```

---

### [Responses ðŸ¡²](02.5.api-usage-responses.md)

#### [ðŸ¡° Parameters](02.3.api-usage-parameters.md)
